# Smartfashion 2.0

## LR - Material Detection
This folder is for the scripts used to perform Logistic Regression for fabric detection. 
This folder contains two sub-folders and three scripts:

- `init/`: Contains images used for training/testing.
- `Mat-datasets/`: Contains the images from the init folder in .mat format.
- `dataset_generator.m`: Script which converts the images in dataset into a .mat format for the use of LR.py script.
- `LR.py`: Script which performs the Logistic Regression learning model.

### How to run `dataset_generator.m`:
1. Open Matlab and set working directory to this folder
2. Set parameters (if needed) as commented in the script
3. Click Run
4. Select “data” and “label” in Workspace and Right Click
5. Select “Save As” and it will automatically be saved as .mat
6. To run LR.py, 
7. Open terminal in the working directory
8. Set parameters (if needed) as commented in the script
9. Type “python LR.py” in command line and Enter

## SVM - Material Detection

This folder contains scripts used for the generation of the SVM(s) used for fabric detection, and for the testing of predicting with the SVM generated.

- `svm.py`: Script for generating SVM.
- `svc.pkl`: File holding the SVM.  Generated by `svm.py`, used by `predict.py`.
- `predict.py`: Script used to test predicting with the generated SVM, `svc2.pkl`.
- `leather.png`: File used for testing.  Used by predict.py.
- `/res/`: Subfolder holding datasets used.

### How to run `svm.py`:
1. Navigate to `SVM - Material Detection` in Terminal.
2. If desired, change `new_dir` at the bottom of the script to point to the desired dataset.  This is the dataset that will be used to train the SVM.
3. Execute `python svm.py`.  Observe that `svc2.pkl` has been generated.  Accuracy and confusion matrix will be printed to terminal.

### Subfolder: `res/`
Contains the datasets used for training/testing.  `v2` is the oldest dataset used, whereas `v4` is the final one used.

## Back End

This folder contains the scripts hosted on PythonAnywhere to form the back-end of the Smartfashion system. This folder contains 7 .py scripts, 1 .txt file and 2 .pkl files:

- (Script) `amazon_search.py`: Performs an amazon search using keywords extracted.
- (Script) `colour_identification.py`: Identifies dominant colour of an image.
- (Script) `extract_sub_image.py`: Script to extract sub-image from a larger image.
- (Script) `irasyamira_pythonanywhere_com_wsgi.py`: Deploys the CherryPy web application on PythonAnywhere.
- (Script) `predict.py`: Using the generated SVMs, predicts what category the input falls under.
- (Script) `ServerSide.py` (main source code running on the server that handles requests sent by client-side)
- (Script) `slic_dir.py`: Performs background removal on the input image,
- (.txt) `log.txt` (contains the logging of all activities from the beginning of the server deployment)
- (.pkl) `svc2.pkl` (contains features of leather extracted by the SVM used)
- (.pkl) `svc_jacket.pkl` (contains features of jacket extracted by the SVM used)


## Android Application

This folder contains the project files used to develop the Smartfashion mobile application. To view the project:

1. Open Android Studio
2. Open Project and select the Smartfashion project within this directory

